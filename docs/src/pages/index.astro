---
import { Image } from 'astro:assets';
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/global/Header.astro';
import Footer from '../components/global/Footer.astro';
import frankenbear from '../asset/frankenbear.png';
import frankenbearFriends from '../asset/frankenbear_friends.png';
import frankenbearDocker from '../asset/frankenbear_docker.png';
import frankenbearSmile from '../asset/frankenbear_smile.png';
---

<BaseLayout title="Home">
  <Header />

  <main class="flex-1 overflow-hidden">
    <!-- ===== HERO SECTION ===== -->
    <section class="relative min-h-screen flex items-center justify-center" id="hero">
      <!-- Background layers -->
      <div class="absolute inset-0 bg-gradient-to-b from-[#280050] via-[#1a0030] to-[#120020]"></div>

      <!-- Animated orbs -->
      <div class="absolute inset-0 overflow-hidden pointer-events-none">
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
        <div class="orb orb-3"></div>
      </div>

      <!-- Grid overlay -->
      <div class="absolute inset-0 bg-grid opacity-[0.03]"></div>

      <!-- Noise texture -->
      <div class="absolute inset-0 bg-noise pointer-events-none"></div>

      <!-- Content -->
      <div class="relative z-10 max-w-7xl mx-auto px-6 py-32">
        <div class="flex flex-col lg:flex-row items-center gap-12 lg:gap-16">
          <!-- Mascot (left) -->
          <div class="flex-shrink-0 animate-slide-up" style="opacity: 0;">
            <Image
              src={frankenbear}
              alt="FrankenDeploy mascot"
              width={480}
              height={480}
              quality={100}
              densities={[1, 2]}
              class="drop-shadow-2xl"
              loading="eager"
            />
          </div>

          <!-- Text content (right) -->
          <div class="text-center lg:text-left">
            <!-- Experimental badge -->
            <div class="animate-slide-up delay-50 mb-4" style="opacity: 0;">
              <span class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-semibold uppercase tracking-wider bg-gradient-to-r from-[#B3D133]/20 to-[#5C00BD]/20 border border-[#B3D133]/30 text-[#B3D133]">
                <span class="relative flex h-2 w-2">
                  <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-[#B3D133] opacity-75"></span>
                  <span class="relative inline-flex rounded-full h-2 w-2 bg-[#B3D133]"></span>
                </span>
                Experimental
              </span>
            </div>

            <!-- Main title -->
            <h1 class="mb-6 animate-slide-up delay-100" style="opacity: 0;">
              <span class="block text-5xl md:text-7xl lg:text-8xl font-black text-white tracking-tight">
                Deploy
              </span>
              <span class="block text-5xl md:text-7xl lg:text-8xl font-black text-gradient text-gradient-animated tracking-tight glow-text">
                Symfony
              </span>
            </h1>

            <!-- Tagline -->
            <p class="text-xl md:text-2xl text-[#C3B2D3] max-w-xl mb-10 leading-relaxed animate-slide-up delay-200" style="opacity: 0;">
              Production-ready deployments on any VPS.
              <br />
              <span class="text-white font-medium">From local to production in minutes.</span>
            </p>

            <!-- CTA Buttons -->
            <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start mb-10 animate-slide-up delay-300" style="opacity: 0;">
              <a href="/frankendeploy/getting-started/" class="btn-lime text-lg px-8 py-4 group">
                Get Started
                <svg class="w-5 h-5 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                </svg>
              </a>
              <a href="https://github.com/yoanbernabeu/frankendeploy" target="_blank" class="btn-ghost text-lg px-8 py-4">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
                GitHub
              </a>
            </div>

            <!-- Tech badges -->
            <div class="flex flex-wrap justify-center lg:justify-start gap-3 animate-slide-up delay-400" style="opacity: 0;">
              {['Auto HTTPS', 'Zero Downtime', 'Health Checks', 'Rollback'].map((tech) => (
                <span class="px-4 py-2 rounded-lg text-sm font-medium glass text-white/80">
                  <span class="text-[#B3D133] mr-1">&#10003;</span> {tech}
                </span>
              ))}
            </div>

            <!-- Experimental notice -->
            <p class="text-sm text-[#C3B2D3]/60 mt-6 max-w-md animate-slide-up delay-500" style="opacity: 0;">
              ðŸ§ª FrankenDeploy is in active development. Breaking changes may occur between versions â€” use with caution in production.
            </p>
          </div>
        </div>

        <!-- Scroll indicator -->
        <div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce">
          <svg class="w-6 h-6 text-white/30" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
          </svg>
        </div>
      </div>
    </section>

    <!-- ===== TERMINAL SECTION ===== -->
    <section class="relative py-32 px-6" id="terminal">
      <div class="absolute inset-0 bg-gradient-to-b from-[#120020] via-[#1a0030] to-[#120020]"></div>

      <div class="relative z-10 max-w-4xl mx-auto">
        <div class="text-center mb-16 reveal">
          <h2 class="text-4xl md:text-5xl font-bold text-white mb-4">
            Simple <span class="text-gradient">workflow</span>
          </h2>
          <p class="text-lg text-[#C3B2D3]">From development to production in minutes.</p>
        </div>

        <div class="terminal reveal">
          <div class="terminal-header">
            <div class="terminal-dot bg-[#ff5f57]"></div>
            <div class="terminal-dot bg-[#ffbd2e]"></div>
            <div class="terminal-dot bg-[#28ca42]"></div>
            <span class="ml-4 text-sm text-[#C3B2D3]/60 font-mono">terminal</span>
          </div>
          <div class="terminal-body">
            <div class="space-y-3">
              <p class="text-[#C3B2D3]/50"># Setup server (one-time)</p>
              <p><span class="text-[#B3D133]">$</span> <span class="text-white">frankendeploy server add prod deploy@my-vps.com</span></p>
              <p><span class="text-[#B3D133]">$</span> <span class="text-white">frankendeploy server setup prod --email admin@example.com</span></p>

              <p class="text-[#C3B2D3]/50 pt-4"># Initialize your project</p>
              <p><span class="text-[#B3D133]">$</span> <span class="text-white">frankendeploy init</span></p>

              <p class="text-[#C3B2D3]/50 pt-4"># Deploy to production</p>
              <p><span class="text-[#B3D133]">$</span> <span class="text-white">frankendeploy deploy prod</span></p>
              <p class="text-[#B3D133] pl-4 font-semibold">&#10003; https://myapp.com</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== USE CASE SECTION ===== -->
    <section class="relative py-32 px-6" id="usecase">
      <div class="absolute inset-0 bg-gradient-to-b from-[#120020] to-[#1a0030]"></div>

      <div class="relative z-10 max-w-7xl mx-auto">
        <div class="flex flex-col-reverse lg:flex-row items-center justify-between gap-8 lg:gap-16 mb-20 reveal">
          <div class="text-center lg:text-left lg:flex-1">
            <h2 class="text-4xl md:text-5xl font-bold text-white mb-4">
              Your VPS. Your app. <span class="text-gradient">Done.</span>
            </h2>
            <p class="text-lg text-[#C3B2D3] max-w-xl mb-2">
              No Kubernetes. No complex infrastructure. Just a VPS and your Symfony app in production.
            </p>
            <p class="text-[#C3B2D3]/60">
              Docker, SSL, deployments â€” we handle the plumbing.
            </p>
          </div>
          <div class="flex-shrink-0">
            <Image
              src={frankenbearDocker}
              alt="FrankenDeploy mascot working on Docker container"
              width={320}
              height={320}
              quality={100}
              densities={[1, 2]}
              class="drop-shadow-2xl"
              loading="lazy"
            />
          </div>
        </div>

        <div class="grid md:grid-cols-3 gap-8">
          <div class="feature-card reveal text-center">
            <div class="feature-icon mx-auto">
              <svg class="w-7 h-7 text-[#B3D133]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
              </svg>
            </div>
            <h3 class="text-xl font-bold text-white mb-3">Side Projects</h3>
            <p class="text-[#C3B2D3] leading-relaxed">Ship your ideas fast. Focus on building, not configuring servers.</p>
          </div>

          <div class="feature-card reveal text-center">
            <div class="feature-icon mx-auto">
              <svg class="w-7 h-7 text-[#B3D133]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
              </svg>
            </div>
            <h3 class="text-xl font-bold text-white mb-3">Freelance Work</h3>
            <p class="text-[#C3B2D3] leading-relaxed">Deploy client projects reliably. Professional setup without the overhead.</p>
          </div>

          <div class="feature-card reveal text-center">
            <div class="feature-icon mx-auto">
              <svg class="w-7 h-7 text-[#B3D133]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
              </svg>
            </div>
            <h3 class="text-xl font-bold text-white mb-3">Early Stage</h3>
            <p class="text-[#C3B2D3] leading-relaxed">Get to market first. Scale when you actually need to.</p>
          </div>
        </div>

        <p class="text-center text-[#C3B2D3] mt-12 reveal">
          A <span class="text-white font-medium">$5/month VPS</span> handles more traffic than most projects will ever see.
        </p>
      </div>
    </section>

    <!-- ===== FEATURES SECTION ===== -->
    <section class="relative py-32 px-6" id="features">
      <div class="absolute inset-0 bg-gradient-to-b from-[#120020] to-[#1a0030]"></div>

      <div class="relative z-10 max-w-7xl mx-auto">
        <div class="text-center mb-20 reveal">
          <h2 class="text-4xl md:text-5xl font-bold text-white mb-4">
            Built for <span class="text-gradient">Symfony</span>
          </h2>
          <p class="text-lg text-[#C3B2D3] max-w-2xl mx-auto">
            Auto-detects your project configuration. Generates optimized Docker setup. Deploys.
          </p>
        </div>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
          <!-- Feature 1 -->
          <div class="feature-card reveal">
            <div class="feature-icon">
              <svg class="w-7 h-7 text-[#B3D133]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="11" cy="11" r="8"/>
                <path d="m21 21-4.3-4.3"/>
                <path d="M11 8v6M8 11h6"/>
              </svg>
            </div>
            <h3 class="text-xl font-bold text-white mb-3">Auto-detection</h3>
            <p class="text-[#C3B2D3] leading-relaxed">Scans your Symfony project and auto-detects PHP version, extensions, database driver, and asset build tools.</p>
          </div>

          <!-- Feature 2 -->
          <div class="feature-card reveal">
            <div class="feature-icon">
              <svg class="w-7 h-7 text-[#B3D133]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/>
                <path d="m9 12 2 2 4-4"/>
              </svg>
            </div>
            <h3 class="text-xl font-bold text-white mb-3">Automatic HTTPS</h3>
            <p class="text-[#C3B2D3] leading-relaxed">Built-in Caddy reverse proxy with automatic SSL certificate management via Let's Encrypt.</p>
          </div>

          <!-- Feature 3 -->
          <div class="feature-card reveal">
            <div class="feature-icon">
              <svg class="w-7 h-7 text-[#B3D133]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/>
                <path d="M21 3v5h-5"/>
                <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/>
                <path d="M8 16H3v5"/>
              </svg>
            </div>
            <h3 class="text-xl font-bold text-white mb-3">Rolling Deployments</h3>
            <p class="text-[#C3B2D3] leading-relaxed">Zero-downtime deployments with health checks, automatic rollback, and release management.</p>
          </div>

          <!-- Feature 4 -->
          <div class="feature-card reveal">
            <div class="feature-icon">
              <svg class="w-7 h-7 text-[#B3D133]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <rect width="7" height="9" x="3" y="3" rx="1"/>
                <rect width="7" height="5" x="14" y="3" rx="1"/>
                <rect width="7" height="9" x="14" y="12" rx="1"/>
                <rect width="7" height="5" x="3" y="16" rx="1"/>
              </svg>
            </div>
            <h3 class="text-xl font-bold text-white mb-3">Docker Native</h3>
            <p class="text-[#C3B2D3] leading-relaxed">Generates optimized multi-stage Dockerfiles tailored for Symfony and FrankenPHP.</p>
          </div>

          <!-- Feature 5 -->
          <div class="feature-card reveal">
            <div class="feature-icon">
              <svg class="w-7 h-7 text-[#B3D133]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <rect width="18" height="18" x="3" y="3" rx="2"/>
                <path d="m9 8 6 4-6 4Z"/>
              </svg>
            </div>
            <h3 class="text-xl font-bold text-white mb-3">One Command</h3>
            <p class="text-[#C3B2D3] leading-relaxed">From development to production with simple commands: <code>init</code>, <code>dev up</code>, <code>deploy</code>.</p>
          </div>

          <!-- Feature 6 -->
          <div class="feature-card reveal">
            <div class="feature-icon">
              <svg class="w-7 h-7 text-[#B3D133]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M12 20h9"/>
                <path d="M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z"/>
              </svg>
            </div>
            <h3 class="text-xl font-bold text-white mb-3">Hooks & Config</h3>
            <p class="text-[#C3B2D3] leading-relaxed">Pre/post deployment hooks, shared files, environment variables - all in one YAML file.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== FRANKENPHP SECTION ===== -->
    <section class="relative py-20 px-6" id="frankenphp">
      <div class="absolute inset-0 bg-[#120020]"></div>

      <div class="relative z-10 max-w-4xl mx-auto text-center reveal">
        <div class="inline-block mb-8 hover:scale-105 transition-transform duration-500">
          <Image
            src={frankenbearFriends}
            alt="FrankenDeploy and FrankenPHP mascots"
            width={240}
            height={240}
            quality={100}
            densities={[1, 2]}
            class="drop-shadow-2xl"
            loading="lazy"
          />
        </div>
        <p class="text-xl text-[#C3B2D3] mb-2">
          Best friends with <a href="https://frankenphp.dev" target="_blank" class="text-[#B3D133] hover:underline font-semibold">FrankenPHP</a> <span class="inline-block animate-pulse">ðŸ’œ</span>
        </p>
        <p class="text-[#C3B2D3]/70">
          The modern PHP app server by KÃ©vin Dunglas.
        </p>
        <p class="text-[#C3B2D3]/40 text-sm mt-4">
          Independent project, not affiliated â€” just fans!
        </p>
      </div>
    </section>

    <!-- ===== CTA SECTION ===== -->
    <section class="relative py-32 px-6" id="cta">
      <div class="absolute inset-0 bg-gradient-to-t from-[#120020] via-[#1a0030] to-[#280050]"></div>

      <div class="relative z-10 max-w-5xl mx-auto reveal">
        <div class="flex flex-col lg:flex-row items-center justify-center gap-10 lg:gap-16">
          <div class="flex-shrink-0">
            <Image
              src={frankenbearSmile}
              alt="FrankenDeploy mascot smiling"
              width={280}
              height={280}
              quality={100}
              densities={[1, 2]}
              class="drop-shadow-2xl"
              loading="lazy"
            />
          </div>
          <div class="text-center lg:text-left">
            <h2 class="text-4xl md:text-5xl font-bold text-white mb-6">
              Ready to deploy?
            </h2>
            <p class="text-lg text-[#C3B2D3] mb-8">
              Open source. Free. No vendor lock-in.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
              <a href="/frankendeploy/getting-started/" class="btn-lime text-lg px-10 py-5 group">
                Get Started
                <svg class="w-5 h-5 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                </svg>
              </a>
              <a href="/frankendeploy/quickstart/" class="btn-ghost text-lg px-10 py-5">
                Quick Start
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</BaseLayout>

<style>
  /* Animated orbs */
  .orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    pointer-events: none;
  }

  .orb-1 {
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, rgba(179, 209, 51, 0.15) 0%, transparent 70%);
    top: -200px;
    right: -200px;
    animation: float 20s ease-in-out infinite;
  }

  .orb-2 {
    width: 500px;
    height: 500px;
    background: radial-gradient(circle, rgba(92, 0, 189, 0.2) 0%, transparent 70%);
    bottom: -150px;
    left: -150px;
    animation: float 25s ease-in-out infinite reverse;
  }

  .orb-3 {
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, rgba(179, 209, 51, 0.1) 0%, transparent 70%);
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    animation: pulse-glow 10s ease-in-out infinite;
  }

  /* Grid background */
  .bg-grid {
    background-image:
      linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px);
    background-size: 60px 60px;
  }

  @keyframes float {
    0%, 100% {
      transform: translate(0, 0) rotate(0deg);
    }
    25% {
      transform: translate(30px, -30px) rotate(5deg);
    }
    50% {
      transform: translate(0, -50px) rotate(0deg);
    }
    75% {
      transform: translate(-30px, -30px) rotate(-5deg);
    }
  }

  @keyframes pulse-glow {
    0%, 100% {
      opacity: 0.3;
      transform: translate(-50%, -50%) scale(1);
    }
    50% {
      opacity: 0.6;
      transform: translate(-50%, -50%) scale(1.1);
    }
  }
</style>

<script>
  function initAnimations() {
    // Scroll reveal animation
    const observerOptions = {
      root: null,
      rootMargin: '0px',
      threshold: 0.1
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, observerOptions);

    document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

    // Trigger initial animations
    document.querySelectorAll('.animate-slide-up').forEach(el => {
      (el as HTMLElement).style.opacity = '1';
    });
  }

  // Run on initial load and after Astro navigation
  initAnimations();
  document.addEventListener('astro:page-load', initAnimations);
</script>
